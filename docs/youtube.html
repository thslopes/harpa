<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <title>Youtube</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

  <input id="urlInput" /><br />

  <div id="ytplayer"></div>

  <script>
    // Load the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/player_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // Replace the 'ytplayer' element with an <iframe> and
    // YouTube player after the API code downloads.
    var player;

    // Get the input field
    var input = document.getElementById("urlInput");

    // Execute a function when the user presses a key on the keyboard
    input.addEventListener("keypress", function (event) {
      debugger
      var videoId = '';
      let inputVal = input.value;
      if (inputVal.startsWith('https://youtu.be/')) {
        videoId = inputVal.replace('https://youtu.be/', '');
      } else {
        videoId = inputVal.split('v=')[1];
      }
      videoId = videoId.split('&')[0];
      console.log(videoId);
      // If the user presses the "Enter" key on the keyboard
      if (event.key === "Enter") {
        // Cancel the default action, if needed
        event.preventDefault();
        // Trigger the button element with a click
        player = new YT.Player('ytplayer', {
          videoId: videoId
        });
      }
    });
  </script>
</body>

</html>